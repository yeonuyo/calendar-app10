{"ast":null,"code":"import React,{useEffect}from'react';import{format,addMonths,subMonths,startOfMonth,endOfMonth,startOfWeek,endOfWeek,isSameMonth,isSameDay,addDays}from'date-fns';import'../styles/Calendar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Calendar=_ref=>{let{events,selectedDate,setSelectedDate,currentMonth,setCurrentMonth,onAddEvent,setActiveTab}=_ref;useEffect(()=>{// currentMonth가 변경되면 해당 월의 캘린더를 표시\nsetCurrentMonth(new Date(currentMonth));},[currentMonth,setCurrentMonth]);const onDateClick=day=>{setSelectedDate(day);setActiveTab('events');};const nextMonth=()=>{setCurrentMonth(addMonths(currentMonth,1));};const prevMonth=()=>{setCurrentMonth(subMonths(currentMonth,1));};const renderHeader=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-header\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevMonth,children:\"<\"}),/*#__PURE__*/_jsx(\"h2\",{children:format(currentMonth,'yyyy년 M월')}),/*#__PURE__*/_jsx(\"button\",{onClick:nextMonth,children:\">\"})]});};const renderDays=()=>{const days=['일','월','화','수','목','금','토'];return/*#__PURE__*/_jsx(\"div\",{className:\"calendar-days\",children:days.map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"day-name\",children:day},day))});};const renderCells=()=>{const monthStart=startOfMonth(currentMonth);const monthEnd=endOfMonth(monthStart);const startDate=startOfWeek(monthStart);const endDate=endOfWeek(monthEnd);const rows=[];let days=[];let day=startDate;while(day<=endDate){for(let i=0;i<7;i++){const cloneDay=day;const dayEvents=events.filter(event=>isSameDay(new Date(event.date),cloneDay));days.push(/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-cell \".concat(!isSameMonth(day,monthStart)?'disabled':isSameDay(day,selectedDate)?'selected':''),onClick:()=>onDateClick(cloneDay),children:[/*#__PURE__*/_jsx(\"span\",{className:\"day-number\",children:format(day,'d')}),/*#__PURE__*/_jsx(\"div\",{className:\"event-dots\",children:dayEvents.map((event,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"event-dot\",style:{backgroundColor:event.color},title:event.title},event.id))})]},day));day=addDays(day,1);}rows.push(/*#__PURE__*/_jsx(\"div\",{className:\"calendar-row\",children:days},day));days=[];}return/*#__PURE__*/_jsx(\"div\",{className:\"calendar-body\",children:rows});};return/*#__PURE__*/_jsxs(\"div\",{className:\"calendar\",children:[renderHeader(),renderDays(),renderCells()]});};export default Calendar;","map":{"version":3,"names":["React","useEffect","format","addMonths","subMonths","startOfMonth","endOfMonth","startOfWeek","endOfWeek","isSameMonth","isSameDay","addDays","jsx","_jsx","jsxs","_jsxs","Calendar","_ref","events","selectedDate","setSelectedDate","currentMonth","setCurrentMonth","onAddEvent","setActiveTab","Date","onDateClick","day","nextMonth","prevMonth","renderHeader","className","children","onClick","renderDays","days","map","renderCells","monthStart","monthEnd","startDate","endDate","rows","i","cloneDay","dayEvents","filter","event","date","push","concat","index","style","backgroundColor","color","title","id"],"sources":["C:/Users/hwfre/OneDrive/Desktop/개인/tlqnstjf/src/components/Calendar.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { format, addMonths, subMonths, startOfMonth, endOfMonth, startOfWeek, endOfWeek, isSameMonth, isSameDay, addDays } from 'date-fns';\nimport '../styles/Calendar.css';\n\nconst Calendar = ({ \n  events, \n  selectedDate, \n  setSelectedDate, \n  currentMonth,\n  setCurrentMonth,\n  onAddEvent, \n  setActiveTab \n}) => {\n  useEffect(() => {\n    // currentMonth가 변경되면 해당 월의 캘린더를 표시\n    setCurrentMonth(new Date(currentMonth));\n  }, [currentMonth, setCurrentMonth]);\n\n  const onDateClick = (day) => {\n    setSelectedDate(day);\n    setActiveTab('events');\n  };\n\n  const nextMonth = () => {\n    setCurrentMonth(addMonths(currentMonth, 1));\n  };\n\n  const prevMonth = () => {\n    setCurrentMonth(subMonths(currentMonth, 1));\n  };\n\n  const renderHeader = () => {\n    return (\n      <div className=\"calendar-header\">\n        <button onClick={prevMonth}>&lt;</button>\n        <h2>{format(currentMonth, 'yyyy년 M월')}</h2>\n        <button onClick={nextMonth}>&gt;</button>\n      </div>\n    );\n  };\n\n  const renderDays = () => {\n    const days = ['일', '월', '화', '수', '목', '금', '토'];\n    \n    return (\n      <div className=\"calendar-days\">\n        {days.map(day => (\n          <div className=\"day-name\" key={day}>\n            {day}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const renderCells = () => {\n    const monthStart = startOfMonth(currentMonth);\n    const monthEnd = endOfMonth(monthStart);\n    const startDate = startOfWeek(monthStart);\n    const endDate = endOfWeek(monthEnd);\n\n    const rows = [];\n    let days = [];\n    let day = startDate;\n\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        const cloneDay = day;\n        const dayEvents = events.filter(event => \n          isSameDay(new Date(event.date), cloneDay)\n        );\n        \n        days.push(\n          <div\n            className={`calendar-cell ${\n              !isSameMonth(day, monthStart)\n                ? 'disabled'\n                : isSameDay(day, selectedDate)\n                ? 'selected'\n                : ''\n            }`}\n            key={day}\n            onClick={() => onDateClick(cloneDay)}\n          >\n            <span className=\"day-number\">{format(day, 'd')}</span>\n            <div className=\"event-dots\">\n              {dayEvents.map((event, index) => (\n                <span\n                  key={event.id}\n                  className=\"event-dot\"\n                  style={{ backgroundColor: event.color }}\n                  title={event.title}\n                />\n              ))}\n            </div>\n          </div>\n        );\n        day = addDays(day, 1);\n      }\n      rows.push(\n        <div className=\"calendar-row\" key={day}>\n          {days}\n        </div>\n      );\n      days = [];\n    }\n    return <div className=\"calendar-body\">{rows}</div>;\n  };\n\n  return (\n    <div className=\"calendar\">\n      {renderHeader()}\n      {renderDays()}\n      {renderCells()}\n    </div>\n  );\n};\n\nexport default Calendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}